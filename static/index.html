<!DOCTYPE html>
<html>
<head>
    <title>Fraud Detection Test</title>
    <style>
        body { font-family: Arial; max-width: 600px; margin: 0 auto; padding: 20px; }
        form { display: grid; gap: 10px; }
        input, button { padding: 8px; }
        #result { margin-top: 20px; padding: 10px; background: #f0f0f0; }
    </style>
</head>
<body>
    <h1>Testez une transaction</h1>
    <form id="fraudForm">
        <label>Montant (Amount):</label>
        <input type="number" id="amount" step="0.01" required>

        <label>V1:</label>
        <input type="number" id="v1" step="0.000001" required>

        <label>V2:</label>
        <input type="number" id="v2" step="0.000001" required>

        <!-- Ajoute les autres champs V3 Ã  V28 si nÃ©cessaire -->
        <button type="submit">VÃ©rifier</button>
    </form>

    <div id="result"></div>

    <script>
        document.getElementById("fraudForm").addEventListener("submit", async (e) => {
            e.preventDefault();
            
            const data = {
                Amount: parseFloat(document.getElementById("amount").value),
                V1: parseFloat(document.getElementById("v1").value),
                V2: parseFloat(document.getElementById("v2").value)
                // Ajoute les autres champs ici
            };

            try {
                const response = await fetch("http://localhost:5000/predict", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify(data)
                });
                const result = await response.json();
                
                document.getElementById("result").innerHTML = `
                    <p><strong>RÃ©sultat :</strong> ${result.fraud ? "ðŸ›‘ Fraude !" : "âœ… Normal"}</p>
                    <p><strong>ProbabilitÃ© :</strong> ${(result.probability * 100).toFixed(2)}%</p>
                `;
            } catch (error) {
                document.getElementById("result").innerHTML = `Erreur : ${error.message}`;
            }
        });
    </script>
</body>
</html>